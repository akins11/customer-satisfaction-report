<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Coffee House Survey â€“ ratings</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-layout-custom">
<!-- sidebar -->
<!-- margin-sidebar -->
<!-- main -->
<i class="bi bi-list" id="hover_icon"></i>
<div class="container c_hidden" id="link_container">
  <a href="index.html">
    <p>Home<i class="bi bi-link-45deg"></i></p>
  </a>
  <a href="index.html#about-respondent">
    <p>About<i class="bi bi-link-45deg"></i></p>
  </a>
  <a href="preference.html">
    <p>Preference<i class="bi bi-link-45deg"></i></p>
  </a>
  <a href="ratings.html">
    <p>Rating<i class="bi bi-link-45deg"></i></p>
  </a>
  <a href="recommendation.html">
    <p>Recommendation<i class="bi bi-link-45deg"></i></p>
  </a>
</div>



<!--- Title & description ----------------------------------------------------->
<div class="page-section odd">
<p class="page-sub-title">
Coffee House Rating
</p>
<p class="info-text">
To precisely gauge customer satisfaction, participants were presented with a set of questions involving various aspects of the coffee house, including overall service, product quality, price, ambiance, and promotions. Respondents were asked to rate their satisfaction on a scale of 1 to 5, where 1 represents the lowest satisfaction level and 5 signifies the highest satisfaction or best rating. The average ratings obtained serve as a reliable indicator of the overall perception of each specific aspect of the coffee house, providing a benchmark for assessing the overall level of customer satisfaction.
</p>
</div>
<!--- End of Title & description ---------------------------------------------->
<!--- Service Rating ---------------------------------------------------------->
<div class="page-section odd">
<div class="output-container">
<p class="output-title">
Overall service: <span class="question">How would you rate the service at Coffee House?</span>
</p>
<div class="cell">
<div class="cell-output-display">
<div class="rating-container odd">
<div class="ratings">
<div class="box-item">
<p class="value">
1
<i class="bi bi-star"></i>
</p>
<p class="percent">1%</p>
</div>
<div class="box-item">
<p class="value">
2
<i class="bi bi-star"></i>
</p>
<p class="percent">3%</p>
</div>
<div class="box-item">
<p class="value">
3
<i class="bi bi-star"></i>
</p>
<p class="percent">35%</p>
</div>
<div class="box-item">
<p class="value">
4
<i class="bi bi-star"></i>
</p>
<p class="percent">42%</p>
</div>
<div class="box-item">
<p class="value">
5
<i class="bi bi-star"></i>
</p>
<p class="percent">19%</p>
</div>
<div class="box-item">
<p class="name">Avg. Rating</p>
<p class="avg-value">
4
<i class="bi bi-star"></i>
</p>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="summary odd">
<p class="summary-text">
The ratings provided by respondents offer an insightful perspective on the overall service of the coffee house and the general satisfaction level of customers. Notably, 42% of respondents gave a rating of 4, while 35% provided a rating of 3. Additionally, 19% of respondents gave the highest rating of 5. With an overall average rating of 4, it is evident that respondents, on the whole, are generally satisfied with the overall service provided. The distribution of ratings leans towards the positive end (3 to 5), indicating a higher level of satisfaction compared to negative ratings (2 and below).
  </p>
</div>
</div>
</div>
</div>
<div class="output-container">
<div class="grid">
<div class="g-col-12 g-col-md-7">
<div class="cell">
<div class="cell-output-display">
<p><img src="ratings_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div class="g-col-12 g-col-md-5">
<div class="cell">
<div class="cell-output-display">
<div class="summary odd">
<p class="summary-text">
Examining the correlation between the overall service rating and possible future purchases reveals interesting patterns. Notably, 96% of respondents who gave the highest rating of 5 expressed a strong intent to continue making future purchases. Additionally, a substantial 73% and 77% of respondents who provided ratings of 4 and 3, respectively, indicated their intention for future purchases. However, for those who rated the service as 2, there is a mixed response, with half expressing an intent to make future purchases and the other half remaining undecided. Lastly, all respondents who gave the lowest rating indicated that they would not make future purchases.
  </p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!--- End Ambiance Rating ----------------------------------------------------->
<!--- Coffee Rating ----------------------------------------------------------->
<div class="page-section even">
<div class="output-container">
<p class="output-title">
Coffee Rating: <span class="question">How would you rate the quality of Coffee House compared to other brands?</span>
</p>
<div class="cell">
<div class="cell-output-display">
<div class="rating-container even">
<div class="ratings">
<div class="box-item">
<p class="value">
1
<i class="bi bi-star"></i>
</p>
<p class="percent">2%</p>
</div>
<div class="box-item">
<p class="value">
2
<i class="bi bi-star"></i>
</p>
<p class="percent">7%</p>
</div>
<div class="box-item">
<p class="value">
3
<i class="bi bi-star"></i>
</p>
<p class="percent">32%</p>
</div>
<div class="box-item">
<p class="value">
4
<i class="bi bi-star"></i>
</p>
<p class="percent">40%</p>
</div>
<div class="box-item">
<p class="value">
5
<i class="bi bi-star"></i>
</p>
<p class="percent">19%</p>
</div>
<div class="box-item">
<p class="name">Avg. Rating</p>
<p class="avg-value">
4
<i class="bi bi-star"></i>
</p>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="summary even bold">
<p class="summary-text">
Ratings based on the comparison of the coffee house's coffee quality to other brands/competitors indicate a positive overall perception, with an average rating of 4. Specifically, the rating distribution reveals that 40% of respondents gave a rating of 4, 32% provided a rating of 3, and 18% rated the coffee house a perfect 5. On the lower end, 7% gave a rating of 2, while 2% gave the lowest rating of 1. This distribution underscores a generally favorable comparison between the coffee house and its competitors, with a majority of respondents expressing satisfaction with the quality of coffee offered.
  </p>
</div>
</div>
</div>
</div>
<div class="output-container">
<div class="grid">
<div class="g-col-12 g-col-md-7">
<div class="cell">
<div class="cell-output-display">
<p><img src="ratings_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div class="g-col-12 g-col-md-5">
<div class="cell">
<div class="cell-output-display">
<div class="summary even">
<p class="summary-text">
The relationship between the rating of coffee house coffee compared to competitors and its connection to possible future purchases provides valuable insights into customer preferences. Notably, for ratings above 3, a significant majority of respondents clearly express their intent to continue making future purchases. Conversely, for those who rated the coffee house coffee a 2, a majority (75%) indicated they would not continue making future purchases. Furthermore, all respondents who gave the lowest rating of 1 stated that they would not be making any future purchases.
  </p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!--- End Coffee Rating ------------------------------------------------------->
<!--- Price range Rating ------------------------------------------------------>
<div class="page-section odd">
<div class="output-container">
<p class="output-title">
Current Price: <span class="question">How would you rate the price range at Coffee House?</span>
</p>
<div class="cell">
<div class="cell-output-display">
<div class="rating-container odd">
<div class="ratings">
<div class="box-item">
<p class="value">
1
<i class="bi bi-star"></i>
</p>
<p class="percent">11%</p>
</div>
<div class="box-item">
<p class="value">
2
<i class="bi bi-star"></i>
</p>
<p class="percent">22%</p>
</div>
<div class="box-item">
<p class="value">
3
<i class="bi bi-star"></i>
</p>
<p class="percent">39%</p>
</div>
<div class="box-item">
<p class="value">
4
<i class="bi bi-star"></i>
</p>
<p class="percent">20%</p>
</div>
<div class="box-item">
<p class="value">
5
<i class="bi bi-star"></i>
</p>
<p class="percent">7%</p>
</div>
<div class="box-item">
<p class="name">Avg. Rating</p>
<p class="avg-value">
3
<i class="bi bi-star"></i>
</p>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">

<div class="summary odd">
<p class="summary-text">
Various factors influence customer decisions regarding price, including comparisons with competitors, customer purchasing power, and the availability of discounts and incentives. The average rating for the coffee house's price range is 3, which is generally acceptable. However, a prompt improvement in this rating could contribute significantly to customer retention.

Specifically, 39% of respondents provided a rating of 3, while 22% gave a rating of 2. Additionally, 20% of respondents rated the coffee house's price range a 4. Notably, only a few respondents (7.38%) awarded the highest rating of 5. 
  </p>
</div>
</div>
</div>
</div>
<div class="output-container">
<div class="grid">
<div class="g-col-12 g-col-md-7">
<div class="cell">
<div class="cell-output-display">
<p><img src="ratings_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div class="g-col-12 g-col-md-5">
<div class="cell">
<div class="cell-output-display">
<div class="summary odd">
<p class="summary-text">
All respondents who expressed complete satisfaction with the current price range (a rating of 5) confirmed their intention to continue purchasing more products. Similarly, a substantial 96% of respondents who gave a rating of 4 also made the decision to continue future purchases. For those who rated the price range a 3, 88% indicated their intent to keep purchasing from the coffee house. In contrast, for lower ratings like 1, only 43% expressed a commitment to continue buying, while for the 2 raters, 52% expressed the same intention.
  </p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!--- End Price range Rating -------------------------------------------------->
<!--- Ambiance Rating --------------------------------------------------------->
<div class="page-section even">
<div class="output-container">
<p class="output-title">
Outlet ambiance: <span class="question">How would you rate the ambiance at Coffee House?</span>
</p>
<div class="cell">
<div class="cell-output-display">
<div class="rating-container even">
<div class="ratings">
<div class="box-item">
<p class="value">
1
<i class="bi bi-star"></i>
</p>
<p class="percent">2%</p>
</div>
<div class="box-item">
<p class="value">
2
<i class="bi bi-star"></i>
</p>
<p class="percent">5%</p>
</div>
<div class="box-item">
<p class="value">
3
<i class="bi bi-star"></i>
</p>
<p class="percent">29%</p>
</div>
<div class="box-item">
<p class="value">
4
<i class="bi bi-star"></i>
</p>
<p class="percent">43%</p>
</div>
<div class="box-item">
<p class="value">
5
<i class="bi bi-star"></i>
</p>
<p class="percent">21%</p>
</div>
<div class="box-item">
<p class="name">Avg. Rating</p>
<p class="avg-value">
4
<i class="bi bi-star"></i>
</p>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="summary even">
<p class="summary-text">
  Turning attention to the coffee house ambiance, encompassing elements such as lighting, music, and furniture, and other features, the summary indicates an overall positive rating with an average score of 4. This suggests that the majority of respondents rated the coffee house's overall environment between 3 and 5, constituting 93% of the respondents. This positive reception underscores the favorable impression customers have regarding the ambiance, reflecting its potential impact on overall satisfaction.
  </p>
</div>
</div>
</div>
</div>
<div class="output-container">
<div class="grid">
<div class="g-col-12 g-col-md-7">
<div class="cell">
<div class="cell-output-display">
<p><img src="ratings_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div class="g-col-12 g-col-md-5">
<div class="cell">
<div class="cell-output-display">
<div class="summary even">
<p class="summary-text">
  The connection between ambiance rating and possible future purchases aligns with patterns observed in other aspects. Respondents who gave ratings of 5, 4, and 3 expressed high intentions to continue making future purchases at the coffee house, with percentages of 88%, 85%, and 69%, respectively. In contrast, for ratings below 3, a majority of respondents indicated that they would not continue purchasing from the coffee house.
  </p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!--- End Ambiance Rating ----------------------------------------------------->
<!--- Promo importance rating ------------------------------------------------->
<div class="page-section even">
<div class="output-container">
<p class="output-title">
Promotion: <span class="question">How important are sales and promotions in your purchase decision?</span>
</p>
<div class="cell">
<div class="cell-output-display">
<div class="rating-container even">
<div class="ratings">
<div class="box-item">
<p class="value">
1
<i class="bi bi-star"></i>
</p>
<p class="percent">5%</p>
</div>
<div class="box-item">
<p class="value">
2
<i class="bi bi-star"></i>
</p>
<p class="percent">6%</p>
</div>
<div class="box-item">
<p class="value">
3
<i class="bi bi-star"></i>
</p>
<p class="percent">25%</p>
</div>
<div class="box-item">
<p class="value">
4
<i class="bi bi-star"></i>
</p>
<p class="percent">34%</p>
</div>
<div class="box-item">
<p class="value">
5
<i class="bi bi-star"></i>
</p>
<p class="percent">30%</p>
</div>
<div class="box-item">
<p class="name">Avg. Rating</p>
<p class="avg-value">
4
<i class="bi bi-star"></i>
</p>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="summary even">
<p class="summary-text">
  The survey results highlight the considerable impact of product promotions/ads, emphasizing their role in attracting new customers and reminding existing ones to make purchases. The overall average rating of 4 underscores the perceived importance and influence of coffee house promotions. This rating reflects the collective acknowledgment of the significance of promotions in shaping both current and future purchase decisions among respondents.
  </p>
</div>
</div>
</div>
</div>
<div class="output-container">
<div class="grid">
<div class="g-col-12 g-col-md-7">
<div class="cell">
<div class="cell-output-display">
<p><img src="ratings_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div class="g-col-12 g-col-md-5">
<div class="cell">
<div class="cell-output-display">
<div class="summary even">
<p class="summary-text">
 The importance of promotion and its impact on customer purchase decisions is evident in the survey results. Higher ratings align with a greater likelihood that customers will continue making future purchases. While there are additional factors influencing these decisions, the clear trend emphasizes the significant influence of promotions and advertisements on both the coffee house and its customers.
  </p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!--- End Promo importance Rating --------------------------------------------->
<div class="cell">
<script type="text/javascript">

function toggleLinkContainer() {
  // Define a variable to store the timer ID
  let timer;
  
  // Get elements from the document
  let hover_icon = document.getElementById("hover_icon");
  let link_container = document.getElementById("link_container");
  
  // Add a mouse hover event listener to the icon and show link container
  hover_icon.addEventListener("mouseover", showLinkContainer);
  link_container.addEventListener("mouseover", showLinkContainer);
  
  // Remove link container
  hover_icon.addEventListener("mouseleave", hideLinkContainer);
  link_container.addEventListener("mouseleave", hideLinkContainer);
  
  // Define function
  function showLinkContainer() {
    // clear the timer if it exists
    if (timer) {
      clearTimeout(timer);
    }
    
    link_container.className = "show";
  }
  
  function hideLinkContainer() {
   // Set a timer to hide the container after 2 seconds (2000 milliseconds)
   timer = setTimeout(function() {
     link_container.className = "c_hidden";
   }, 1000);
    
  }
  
}


toggleLinkContainer();

</script>
</div>




<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>